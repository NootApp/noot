<script lang="ts">
import {workspace} from "$lib/state.svelte";
import {onMount} from "svelte"

type DirectoryList = FileKind[];
interface FileKind {
  type: "file" | "folder",
  name: string,
  path: string,
}

let wd = "/unknown";
let directory: FileKind[] = $state([]);

$effect(() => {
  console.debug("Workspace updated - reloading");
  wd = workspace.path
})

</script>

<div class="sidebar-container" style="width: 15rem;height:inherit;">
  <h2>Files</h2>
  <ul>
    {#each directory as entry}
      <li>{entry.name}</li>
    {/each}
  </ul>
</div>

<style>
.sidebar-container {
  height: calc(100vh - 45px) !important;
  border-right: 1px solid pink;
  margin: 0;
  padding: 0;
}
</style>
